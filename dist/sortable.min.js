!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Sortable=e()}(this,function(){"use strict";function X(e,t){var o,n=Object.keys(e);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(e),t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)),n}function h(n){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?X(Object(i),!0).forEach(function(t){var e,o;e=n,o=i[t=t],t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):X(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))})}return n}function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function R(t,e,o){e&&L(t.prototype,e),o&&L(t,o),Object.defineProperty(t,"prototype",{writable:!1})}function W(t){return function(t){if(Array.isArray(t))return H(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return H(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(o="Object"===o&&t.constructor?t.constructor.name:o)||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?H(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}var G,F={capture:!1,passive:!1},z=/\s+/g,q=["-webkit-transition","-moz-transition","-ms-transition","-o-transition","transition"],V=["-webkit-transform","-moz-transform","-ms-transform","-o-transform","transform"],U=(G=!1,document.addEventListener("checkIfSupportPassive",null,{get passive(){return G=!0}}),G);function t(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var d=t(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Z=t(/Edge/i),s=t(/safari/i)&&!t(/chrome/i)&&!t(/android/i),$=t(/iP(ad|od|hone)/i),J=t(/chrome/i)&&t(/android/i);function K(e){if(e){var t=document.createElement("div");try{return t.appendChild(e.cloneNode(!0)),1==e.nodeType}catch(t){return e==window||e==document}}}function r(e,o){o?"none"===o?q.forEach(function(t){return b(e,t,"none")}):q.forEach(function(t){return b(e,t,"".concat(t.split("transition")[0],"transform ").concat(o))}):q.forEach(function(t){return b(e,t,"")})}function a(e,o){o?V.forEach(function(t){return b(e,t,"".concat(t.split("transform")[0]).concat(o))}):V.forEach(function(t){return b(e,t,"")})}function Q(t){var e=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,t=e||t;return{touch:e,e:t,target:e?document.elementFromPoint(t.clientX,t.clientY):t.target}}function l(t,e,o){window.addEventListener?t.addEventListener(e,o,!(!U&&d)&&F):window.attachEvent&&t.attachEvent("on"+e,o)}function e(t,e,o){window.removeEventListener?t.removeEventListener(e,o,!(!U&&d)&&F):window.detachEvent&&t.detachEvent("on"+e,o)}function p(t){for(var e={top:0,left:0,height:0,width:0},o=(e.height=t.offsetHeight,e.width=t.offsetWidth,e.top=t.offsetTop,e.left=t.offsetLeft,t.offsetParent);null!==o;)e.top+=o.offsetTop,e.left+=o.offsetLeft,o=o.offsetParent;return e}function m(){var t=document.scrollingElement;return!t||t.contains(document.body)?document:t}function g(t){var e,o,n,i,r,a,s,l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=2<arguments.length?arguments[2]:void 0;if(t.getBoundingClientRect||t===window){if(t!==window&&t.parentNode&&t!==m()){if(o=(e=t.getBoundingClientRect()).top,n=e.left,i=e.bottom,r=e.right,a=e.height,s=e.width,l.parent&&t.parentNode!==t.ownerDocument.body)for(var u,f=t.parentNode;f&&f.getBoundingClientRect&&f!==t.ownerDocument.body;){if((u=f.getBoundingClientRect()).height<a)return o=u.top,n=u.left,i=u.bottom,r=u.right,a=u.height,{top:o,left:n,bottom:i,right:r,width:s=u.width,height:a};f=f.parentNode}}else n=o=0,i=window.innerHeight,r=window.innerWidth,a=window.innerHeight,s=window.innerWidth;if((l.block||l.relative)&&t!==window&&(c=c||t.parentNode,!d))do{if(c&&c.getBoundingClientRect&&("none"!==b(c,"transform")||l.relative&&"static"!==b(c,"position"))){var h=c.getBoundingClientRect();o-=h.top+parseInt(b(c,"border-top-width")),n-=h.left+parseInt(b(c,"border-left-width")),i=o+e.height,r=n+e.width;break}}while(c=c.parentNode);return{top:o,left:n,bottom:i,right:r,width:s,height:a}}}function v(t,e,o){var n=W(Array.from(t.children)),t=n.indexOf(e);if(-1<t)return o?n[t]:{index:t,el:n[t],rect:g(n[t]),offset:p(n[t])};for(var i=0;i<n.length;i++)if(function(t,e){var o;if(t&&e)for(o=t.parentNode;o;){if(e===o)return 1;o=o.parentNode}return}(e,n[i]))return o?n[i]:{index:i,el:n[i],rect:g(n[i]),offset:p(n[i])};return o?null:{index:-1,el:null,rect:{},offset:{}}}function tt(t,e){for(var o=t.lastElementChild;o&&(o===I.ghost||"none"===b(o,"display")||e&&!et(o,e));)o=o.previousElementSibling;return o}function c(t,e,o){var n;t&&e&&(t.classList?t.classList[o?"add":"remove"](e):(n=(" "+t.className+" ").replace(z," ").replace(" "+e+" "," "),t.className=(n+(o?" "+e:"")).replace(z," ")))}function et(t,e){if(e&&(">"===e[0]&&(e=e.substring(1)),t))try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return}}function ot(t,e){return t.top!==e.top||t.left!==e.left}function b(t,e,o){var n=t&&t.style;if(n){if(void 0===o)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(o=t.currentStyle),void 0===e?o:o[e];n[e=e in n||-1!==e.indexOf("webkit")?e:"-webkit-"+e]=o+("string"==typeof o?"":"px")}}function nt(o,n,i){var r=null;return function(){var t=this,e=arguments;r&&clearTimeout(r),i&&!r&&o.apply(t,e),r=setTimeout(function(){o.apply(t,e)},n)}}function it(o,n){var i=null;return function(){var t=this,e=arguments;i=i||setTimeout(function(){i=null,o.apply(t,e)},n)}}var u="Sortable"+Date.now();function rt(){var i=[];return{_captureAnimationState:function(t,e){var o=W(Array.from(this.el.children)),e=(t=t,e=e,t=(n=o).indexOf(t),n=n.indexOf(e),t<n?{start:t,end:n}:{start:n,end:t}),n=e.start,t=e.end;n<(i.length=0)&&(n=t,t=Math.min(o.length-1,100)),t<0&&(t=Math.min(o.length-1,100)),o.slice(n,t+1).forEach(function(t){i.push({target:t,rect:g(t)})})},_animate:function(){var o=this;i.forEach(function(t){var e=t.target,t=t.rect;o._excuteAnimation(e,t,o.options.animation)})},_excuteAnimation:function(t,e){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:150,n=g(t),i=e.left-n.left,e=e.top-n.top;r(t,"none"),a(t,"translate3d(".concat(i,"px, ").concat(e,"px, 0)")),t.offsetWidth,r(t,"".concat(o,"ms")),a(t,"translate3d(0px, 0px, 0px)"),clearTimeout(t.animated),t.animated=setTimeout(function(){r(t,""),a(t,""),t.animated=null},o)}}}var o={sortable:null,group:null,nodes:[]},y=[],w=new(function(){function t(){i(this,t),this.from=h({},o),this.to=h({},o)}return R(t,[{key:"destroy",value:function(){this.from=h({},o),this.to=h({},o)}}]),t}()),E=function(){return{from:h({},w.from),to:h({},w.to)}},at=function(t,o){return!!t.find(function(e){return ot(o.find(function(t){return t.node===e.node}).offset,e.offset)})};function st(){return{_setMultiElements:function(t){var o=this;if(this.options.multiple){var e,n=this.options.draggable;if("function"==typeof n){n=n(t);if(!n)return;K(n)&&(e=n)}(e=e||v(this.el,t.target,!0))&&(c(e,this.options.selectedClass,!~y.indexOf(e)),~y.indexOf(e)?(y.splice(y.indexOf(e),1),this._dispatchEvent("onDeselect",{sortable:this,target:e,evt:t})):(y.push(e),this._dispatchEvent("onSelect",{sortable:this,target:e,evt:t})),y.forEach(function(t){var e;t.sortableIndex=(e=o.el,(t=t)&&t.parentNode?W(Array.from(e.children)).indexOf(t):-1)}),y.sort(function(t,e){return t.sortableIndex-e.sortableIndex}))}},_allowMultiDrag:function(t){return this.options.multiple&&y.length&&y.includes(t)},_getMultiGhostElement:function(){var n=document.createElement("div");return y.forEach(function(t,e){var t=t.cloneNode(!0),o=4*e+4;t.style="opacity: ".concat(0===e?1:.5,";position: absolute;z-index: ").concat(e,";bottom: -").concat(o,"px;right: -").concat(o,"px;width: 100%;height: 100%;"),n.appendChild(t)}),n},_setMultiDiffer:function(t){w[t]={sortable:this,group:this.el,nodes:y.map(function(t){return{node:t,rect:g(t),offset:p(t)}})}},_onMultiDrag:function(){this._setMultiDiffer("from")},_onMultiStarted:function(t){var e=t.e,o=t.evt,n=t.dragEl,i=(this._dispatchEvent("onDrag",h(h({},E()),{},{event:e,originalEvent:o})),this._captureAnimationState(n),y.forEach(function(t){t!==n&&b(t,"position","absolute")}),g(n,{relative:!0}));y.forEach(function(t){var e,o;t!==n&&(o=i,b(e=t,"position","absolute"),b(e,"top",o.top),b(e,"left",o.left),b(t,"display","none"))}),this._animate()},_onMultiMove:function(t){var e=t.e,o=t.evt,n=t.dragEl,t=t.ghostEl,i=(this._dispatchEvent("onMove",h(h({},E()),{},{ghostEl:t,event:e,originalEvent:o})),(t=e).pageX||t.pageY?{top:t.pageY,left:t.pageX}:t.clientX||t.clientY?{top:t.clientY+document.documentElement.scrollTop+document.body.scrollTop,left:t.clientX+document.documentElement.scrollLeft+document.body.scrollLeft}:void 0);y.forEach(function(t){t!==n&&(b(t,"top",i.top),b(t,"left",i.left))})},_onMultiChange:nt(function(t){var e=t.dragEl,o=t.rootEl,n=t.target,i=t.e,t=t.evt;if(w.from.group){if(!tt(o)||n===o&&w.from.group!==o)w.from.sortable._captureAnimationState(e,e),y.forEach(function(t){o.appendChild(t)}),this._setMultiDiffer("to"),w.from.sortable._dispatchEvent("onRemove",h(h({},E()),{},{event:i,originalEvent:t})),this._dispatchEvent("onAdd",h(h({},E()),{},{event:i,originalEvent:t})),w.from.sortable._animate();else{var n=v(o,n),r=n.el,a=n.rect,n=n.offset;if(!r||r.animated||r===e)return;this._setMultiDiffer("to");var s=i.clientX,l=i.clientY,c=a.left,u=a.right,f=a.top,a=a.bottom;c<s&&s<u&&f<l&&l<a&&(this._captureAnimationState(e,r),w.from.group!==w.to.group?(w.from.sortable._captureAnimationState(e,r),y.forEach(function(t){o.insertBefore(t,r)}),w.from.sortable._dispatchEvent("onRemove",h(h({},E()),{},{event:i,originalEvent:t})),this._dispatchEvent("onAdd",h(h({},E()),{},{event:i,originalEvent:t})),w.from.sortable._animate()):((c=p(e)).top<n.top||c.left<n.left?y.forEach(function(t){o.insertBefore(t,r.nextSibling)}):y.forEach(function(t){o.insertBefore(t,r)}),this._dispatchEvent("onChange",h(h({},E()),{},{event:i,originalEvent:t}))),this._animate())}w.from.sortable=this,w.from.group=o}},3),_onMultiDrop:function(t){for(var e,o=t.fromGroup,n=t.fromSortable,i=t.dragEl,r=t.rootEl,t=t.evt,a=(this._captureAnimationState(i),y.forEach(function(t){t!==i&&(b(t=t,"display",""),b(t,"position",""),b(t,"top",""),b(t,"left",""))}),y.indexOf(i)),s=0;s<y.length;s++)s<a?r.insertBefore(y[s],i):(e=0<s?y[s-1]:i,r.insertBefore(y[s],e.nextSibling));w.to.nodes=y.map(function(t){return{node:t,rect:g(t),offset:p(t)}}),w.to.group||(w.to.group=this.el,w.to.sortable=this),w.from.group=o,w.from.sortable=n;var l=at(w.from.nodes,w.to.nodes),l=h(h({},E()),{},{changed:l,event:t,originalEvent:t});w.to.group!==o&&n._dispatchEvent("onDrop",l),this._dispatchEvent("onDrop",l),this._animate()}}}function f(t){if(x){var e=t=t.touches?t.touches[0]:t,o=e.clientX,e=e.clientY,n=lt(o,e);if(n){var i,r={};for(i in t)r[i]=t[i];r.target=document.elementFromPoint(o,e),r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[u]._triggerEvent(r)}}}function lt(i,r){var a;return mt.some(function(t){var e,o,n=t[u].options.emptyInsertThreshold;if(n)return o=g(t,{parent:!0}),e=i>=o.left-n&&i<=o.right+n,o=r>=o.top-n&&r<=o.bottom+n,e&&o?a=t:void 0}),a}function ct(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function _(){return{from:h({},j.from),to:h({},j.to)}}function D(t){return h(h({},t),{},{rootEl:S,dragEl:x,ghostEl:T,fromSortable:A,fromGroup:C,activeGroup:n})}var S,x,M,T,O,C,n,A,P,ut,ft=function(){function t(){i(this,t),this.down=void 0,this.move=void 0}return R(t,[{key:"destroy",value:function(){this.down=void 0,this.move=void 0}}]),t}(),ht={sortable:null,group:null,node:null,rect:{},offset:{}},dt=function(){function t(){i(this,t),this.from=h({},ht),this.to=h({},ht)}return R(t,[{key:"destroy",value:function(){this.from=h({},ht),this.to=h({},ht)}}]),t}(),pt="undefined"!=typeof document&&!J&&!$&&"draggable"in document.createElement("div"),mt=[],j=new dt,k=new ft,B={x:0,y:0},N={x:0,y:0};function I(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));(t[u]=this).el=t,this.scrollEl=function(t,e){if(!t||!t.getBoundingClientRect)return m();var o=t,n=!1;do{if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var i=b(o);if(o.clientWidth<o.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||o.clientHeight<o.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!o.getBoundingClientRect||o===document.body)return m();if(n||e)return o;n=!0}}}while(o=o.parentNode);return m()}(t,!0),this.options=e=Object.assign({},e),this.ownerDocument=t.ownerDocument;var o,n,i={group:"",animation:150,multiple:!1,draggable:void 0,onDrag:void 0,onMove:void 0,onDrop:void 0,onChange:void 0,autoScroll:!0,scrollStep:5,scrollThreshold:15,delay:0,delayOnTouchOnly:!1,disabled:!1,ghostClass:"",ghostStyle:{},chosenClass:"",selectedClass:"",fallbackOnBody:!1,forceFallback:!1,stopPropagation:!1,supportPointer:"PointerEvent"in window&&!s,supportTouch:"ontouchstart"in window,emptyInsertThreshold:5};for(o in i)o in this.options||(this.options[o]=i[o]);for(n in this.nativeDraggable=!this.options.forceFallback&&pt,a={},(r=(e=e).group)&&"object"==Y(r)||(r={name:r,pull:!0,put:!0}),a.name=r.name,a.pull=r.pull,a.put=r.put,e.group=a,this)"_"===n.charAt(0)&&"function"==typeof this[n]&&(this[n]=this[n].bind(this));var r=this.options,e=r.supportPointer,a=r.supportTouch;l(t,e?"pointerdown":a?"touchstart":"mousedown",this._onDrag),mt.push(t),Object.assign(this,rt(),(window.requestAnimationFrame||(window.requestAnimationFrame=function(t){return setTimeout(t,17)}),{_autoScroll:it(function(t,e){var o,n,i,r,a,s,l,c,u,f,h,d,p,m,v;t.scrollEl&&e.down&&e.move&&(o=(n=e.move).clientX,n=n.clientY,void 0!==o&&void 0!==n&&t.scrollEl!==t.ownerDocument&&(i=(m=t.scrollEl).scrollTop,r=m.scrollLeft,a=m.scrollHeight,m=m.scrollWidth,s=(p=g(t.scrollEl)).top,h=p.right,l=p.bottom,d=p.left,c=p.height,p=p.width,u=(f=t.options).scrollStep,f=f.scrollThreshold,d=0<r&&d<=o&&o<=d+f,p=r+p<m&&o<=h&&h-f<=o,m=i+c<a&&n<=l&&l-f<=n,v={x:r,y:i},(h=0<i&&s<=n&&n<=s+f)?(v.x=d?r-u:p?r+u:r,v.y=i-u):m?(v.x=d?r-u:p?r+u:r,v.y=i+u):d?(v.x=r-u,v.y=i):p&&(v.x=r+u,v.y=i),(h||d||p||m)&&requestAnimationFrame(function(){t.scrollEl.scrollTo(v.x,v.y),t._autoScroll(t,e)})))},10)}),st())}return(I.prototype={constructor:I,destroy:function(){this._dispatchEvent("destroy",this),this.el[u]=null,e(this.el,"pointerdown",this._onDrag),e(this.el,"touchstart",this._onDrag),e(this.el,"mousedown",this._onDrag),this._clearState(),Array.prototype.forEach.call(this.el.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),clearTimeout(P),mt.splice(mt.indexOf(this.el),1),this.el=null},_onDrag:function(t){var e=this;if(!x&&!this.options.disabled&&!1!==this.options.group.pull){if(/mousedown|pointerdown/.test(t.type)&&0!==t.button)return!0;var t=Q(t),o=t.touch,n=t.e,t=t.target;if(!this.nativeDraggable&&s&&t&&"SELECT"===t.tagName.toUpperCase())return!0;if(t===this.el)return!0;var i=this.options.draggable;if("function"==typeof i){var r=i(n);if(!r)return!0;K(r)&&(x=r)}else if("string"==typeof i){if(!et(t,i))return!0}else if(i)throw new Error('draggable expected "function" or "string" but received "'.concat(Y(i),'"'));if(!(x=x||v(this.el,t,!0))||x.animated)return!0;o&&(x.style["touch-action"]="none"),C=this.el,(O=(A=this)._allowMultiDrag(x))&&this._onMultiDrag();r=v(this.el,x),i=r.rect,t=r.offset,r=(j.from={sortable:this,group:this.el,node:x,rect:i,offset:t},B={x:n.clientX-i.left,y:n.clientY-i.top},k.down=n,this.nativeDraggable?l(this.ownerDocument,"dragover",f):this.options.supportPointer?l(this.ownerDocument,"pointermove",f):l(this.ownerDocument,o?"touchmove":"mousemove",f),l(this.ownerDocument,"pointerup",this._onDrop),l(this.ownerDocument,"touchend",this._onDrop),l(this.ownerDocument,"mouseup",this._onDrop),this.options),t=r.delay,i=r.delayOnTouchOnly;!t||i&&!o||this.nativeDraggable&&(Z||d)?this._onStart(n,o):(clearTimeout(P),P=setTimeout(function(){return e._onStart(n,o)},t))}},_onStart:function(t,e){S=this.el,n=this.options.group,!this.nativeDraggable||e?(this.options.supportPointer?l(this.ownerDocument,"pointermove",this._onMove):l(this.ownerDocument,e?"touchmove":"mousemove",this._onMove),l(this.ownerDocument,"pointercancel",this._onDrop),l(this.ownerDocument,"touchcancel",this._onDrop)):(x.draggable=!0,l(this.el,"dragstart",this._onDragStart));try{document.selection?setTimeout(function(){document.selection.empty()},0):window.getSelection().removeAllRanges()}catch(t){}},_onDragStart:function(t){this._appendGhost();t=t.dataTransfer;t&&(t.setData("text",""),t.setDragImage(T,B.x,B.y),t.effectAllowed="move")},_triggerEvent:function(t){S=t.rootEl,this.nativeDraggable?(l(this.el,"dragover",ct),l(this.el,"dragend",this._onDrop),this._onDragOver(t)):this._onMove(t)},_onMove:function(t){var e,o,n=this;k.down&&x&&(this._preventEvent(t),e=(o=Q(t)).e,o=o.target,this._onStarted(e,t),t.rootEl&&(O?this._onMultiMove(D({e:e,evt:t})):this._dispatchEvent("onMove",h(h({},_()),{},{ghostEl:T,event:e,originalEvent:t})),this._allowPut()&&this._triggerChangeEvent(o,e,t),clearTimeout(ut),this.options.autoScroll&&(ut=setTimeout(function(){return n._autoScroll(n,k)},0))))},_onDragOver:function(t){var e,o,n,i,r;k.down&&x&&(this._preventEvent(t),e=this._allowPut(),t.dataTransfer&&(t.dataTransfer.dropEffect=e?"move":"none"),this._onStarted(t,t),!t.rootEl||(n=(o=t).clientX,o=o.clientY,i=n-N.x,r=o-N.y,N.x=n,N.y=o,void 0!==n&&void 0!==o&&Math.abs(i)<=0&&Math.abs(r)<=0)||(O?this._onMultiMove(D({e:t,evt:t})):this._dispatchEvent("onMove",h(h({},_()),{},{ghostEl:T,event:t,originalEvent:t})),e&&this._triggerChangeEvent(t.target,t,t)))},_allowPut:function(){var t;return C===this.el||!!this.options.group.put&&(t=this.options.group.name,n.name&&t&&n.name===t)},_onStarted:function(t,e){k.move||(O?this._onMultiStarted(D({e:t,evt:e})):this._dispatchEvent("onDrag",h(h({},_()),{},{event:t,originalEvent:e})),this.nativeDraggable||this._appendGhost(),c(x,this.options.chosenClass,!0),x.style["will-change"]="transform",this.nativeDraggable&&this._unbindDropEvents(),s&&b(document.body,"user-select","none")),k.move=t;var e=k.down,o=e.clientX,e=e.clientY;this.nativeDraggable||(r(T,"none"),a(T,"translate3d(".concat(t.clientX-o,"px, ").concat(t.clientY-e,"px, 0)")))},_appendGhost:function(){if(!T){var t,e=this.options,o=e.fallbackOnBody,n=e.ghostClass,e=e.ghostStyle,i=void 0===e?{}:e,e=o?document.body:this.el,o=g(x,{block:!0},e);for(t in c(T=O?this._getMultiGhostElement():x.cloneNode(!0),n,!0),b(T,"box-sizing","border-box"),b(T,"margin",0),b(T,"top",o.top),b(T,"left",o.left),b(T,"width",o.width),b(T,"height",o.height),b(T,"opacity","0.8"),b(T,"position","fixed"),b(T,"zIndex","100000"),b(T,"pointerEvents","none"),i)b(T,t,i[t]);this.nativeDraggable&&(b(T,"top","-999px"),b(T,"zIndex","-100000")),r(T,"none"),a(T,"translate3d(0px, 0px, 0px)"),e.appendChild(T);n=B.x/parseInt(T.style.width)*100,o=B.y/parseInt(T.style.height)*100;b(T,"transform-origin","".concat(n,"% ").concat(o,"%")),b(T,"transform","translateZ(0)"),I.ghost=T}},_triggerChangeEvent:function(t,e,o){x&&(O?this._onMultiChange(D({target:t,e:e,evt:o})):this._onChange(t,e,o))},_onChange:nt(function(t,e,o){if(j.from.group){if(!tt(S)||t===S&&j.from.group!==S)j.from.sortable._captureAnimationState(x,x),j.to={sortable:this,group:S,node:x,rect:g(x),offset:p(x)},j.from.sortable._dispatchEvent("onRemove",h(h({},_()),{},{event:e,originalEvent:o})),this._dispatchEvent("onAdd",h(h({},_()),{},{event:e,originalEvent:o})),S.appendChild(x),j.from.sortable._animate();else{var t=v(S,t),n=t.el,i=t.rect,t=t.offset;if(!n||n.animated||n===x)return;M=n,j.to={sortable:this,group:S,node:M,rect:i,offset:t};var n=e.clientX,r=e.clientY,a=i.left,s=i.right,l=i.top,i=i.bottom;a<n&&n<s&&l<r&&r<i&&(this._captureAnimationState(x,M),j.from.group!==j.to.group?(j.from.sortable._captureAnimationState(x,M),j.from.sortable._dispatchEvent("onRemove",h(h({},_()),{},{event:e,originalEvent:o})),this._dispatchEvent("onAdd",h(h({},_()),{},{event:e,originalEvent:o})),S.insertBefore(x,M),j.from.sortable._animate()):(this._dispatchEvent("onChange",h(h({},_()),{},{event:e,originalEvent:o})),(a=p(x)).top<t.top||a.left<t.left?S.insertBefore(x,M.nextSibling):S.insertBefore(x,M)),this._animate())}j.from.sortable=this,j.from.group=S}},3),_onDrop:function(t){var e;this._unbindDragEvents(),this._unbindMoveEvents(),this._unbindDropEvents(),this._preventEvent(t),clearTimeout(P),clearTimeout(ut),x&&(e=Q(t).touch,c(x,this.options.chosenClass,!1),this.nativeDraggable&&(x.draggable=!1),e&&(x.style["touch-action"]=""),x.style["will-change"]=""),x&&k.down&&k.move?(O?this._onMultiDrop(D({evt:t})):(j.to.rect=g(x),j.to.offset=p(x),j.to.group||(j.to.group=this.el,j.to.sortable=this),j.from.group=C,j.from.sortable=A,e=ot(j.from.offset,j.to.offset),e=h(h({},_()),{},{changed:e,event:t,originalEvent:t}),j.to.group!==C&&A._dispatchEvent("onDrop",e),this._dispatchEvent("onDrop",e)),s&&b(document.body,"user-select","")):this._setMultiElements(t),this._clearState()},_preventEvent:function(t){void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),this.options.stopPropagation&&t.stopPropagation&&t.stopPropagation()},_dispatchEvent:function(t,e){t=this.options[t];"function"==typeof t&&t(e)},_clearState:function(){T&&T.parentNode&&T.parentNode.removeChild(T),x=M=T=O=C=n=A=P=ut=I.ghost=null,B=N={x:0,y:0},k.destroy(),j.destroy()},_unbindDragEvents:function(){this.nativeDraggable&&(e(this.el,"dragstart",this._onDragStart),e(this.el,"dragover",ct),e(this.el,"dragend",this._onDrop))},_unbindMoveEvents:function(){e(this.ownerDocument,"pointermove",this._onMove),e(this.ownerDocument,"touchmove",this._onMove),e(this.ownerDocument,"mousemove",this._onMove),e(this.ownerDocument,"pointermove",f),e(this.ownerDocument,"touchmove",f),e(this.ownerDocument,"mousemove",f),e(this.ownerDocument,"dragover",f)},_unbindDropEvents:function(){e(this.ownerDocument,"pointerup",this._onDrop),e(this.ownerDocument,"pointercancel",this._onDrop),e(this.ownerDocument,"touchend",this._onDrop),e(this.ownerDocument,"touchcancel",this._onDrop),e(this.ownerDocument,"mouseup",this._onDrop)}}).utils={getRect:g,getOffset:p,debounce:nt,throttle:it},I});

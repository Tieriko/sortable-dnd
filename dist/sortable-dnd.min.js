!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Sortable=e()}(this,function(){"use strict";function R(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function c(o){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?R(Object(i),!0).forEach(function(t){var e,n;e=o,n=i[t=t],(t=function(t){t=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):R(Object(i)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(i,t))})}return o}function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var F={capture:!1,passive:!1},k=/\s+/g,l={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","touchcancel","mouseup"]};function t(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var e,d=t(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),H=t(/Edge/i),a=t(/safari/i)&&!t(/chrome/i)&&!t(/android/i),L=(e=!1,document.addEventListener("checkIfSupportPassive",null,{get passive(){return e=!0}}),e),u="undefined"==typeof window||"undefined"==typeof document?"":(o=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],"ms"!==(o=(Array.prototype.slice.call(o).join("").match(/-(moz|webkit|ms)-/)||""===o.OLink&&["","o"])[1])?o&&o.length?o[0].toUpperCase()+o.substr(1):"":"ms");function i(t,e){t.style["".concat(u,"TransitionDuration")]=null==e?"":"".concat(e,"ms")}function h(t,e){t.style["".concat(u,"Transform")]=e?"".concat(e):""}function p(t,e,n){window.addEventListener?t.addEventListener(e,n,!(!L&&d)&&F):window.attachEvent&&t.attachEvent("on"+e,n)}function n(t,e,n){window.removeEventListener?t.removeEventListener(e,n,!(!L&&d)&&F):window.detachEvent&&t.detachEvent("on"+e,n)}function I(t,e,n){var o=t,i=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0],t=i?document.elementFromPoint(i.clientX,i.clientY):t.target;return!i||"clientX"in o||(o.clientX=i.clientX,o.clientY=i.clientY,o.pageX=i.pageX,o.pageY=i.pageY,o.screenX=i.screenX,o.screenY=i.screenY),e&&(t=document.elementFromPoint(e,o.clientY)),{touch:i,event:o,target:t=n?document.elementFromPoint(o.clientX,n):t}}function f(t,e){for(var n={top:0,left:0,height:t.offsetHeight,width:t.offsetWidth};n.top+=t.offsetTop,n.left+=t.offsetLeft,(t=t.parentNode)&&t!==e;);return n}function m(){var t=document.scrollingElement;return t||document.documentElement}function g(t){var e,n,o,i,r,a,s,l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=2<arguments.length?arguments[2]:void 0;if(t.getBoundingClientRect||t===window){if(t!==window&&t.parentNode&&t!==m()){if(n=(e=t.getBoundingClientRect()).top,o=e.left,i=e.bottom,r=e.right,a=e.height,s=e.width,l.parent&&t.parentNode!==t.ownerDocument.body)for(var u,h=t.parentNode;h&&h.getBoundingClientRect&&h!==t.ownerDocument.body;){if((u=h.getBoundingClientRect()).height<a)return n=u.top,o=u.left,i=u.bottom,r=u.right,a=u.height,{top:n,left:o,bottom:i,right:r,width:s=u.width,height:a};h=h.parentNode}}else o=n=0,i=window.innerHeight,r=window.innerWidth,a=window.innerHeight,s=window.innerWidth;if((l.block||l.relative)&&t!==window&&(c=c||t.parentNode,!d))do{if(c&&c.getBoundingClientRect&&("none"!==v(c,"transform")||l.relative&&"static"!==v(c,"position"))){var p=c.getBoundingClientRect();n-=p.top+parseInt(v(c,"border-top-width")),o-=p.left+parseInt(v(c,"border-left-width")),i=n+e.height,r=o+e.width;break}}while(c=c.parentNode);return{top:n,left:o,bottom:i,right:r,width:s,height:a}}}function W(t,e,n,o){if(t){n=n||document;do{if(null==e){var i=Array.prototype.slice.call(n.children),r=i.indexOf(t);if(-1<r)return i[r];for(var a=0;a<i.length;a++)if(z(t,i[a]))return i[a]}else if((">"!==e[0]||t.parentNode===n)&&V(t,e)||o&&t===n)return t}while(t=t.parentNode)}return null}function z(t,e){if(t&&e){if(e.compareDocumentPosition)return e===t||16&e.compareDocumentPosition(t);if(e.contains&&1===t.nodeType)return e.contains(t)&&e!==t;for(;t=t.parentNode;)if(t===e)return 1}}function q(t,e,n){var o;t&&e&&(t.classList?t.classList[n?"add":"remove"](e):(o=(" "+t.className+" ").replace(k," ").replace(" "+e+" "," "),t.className=(o+(n?" "+e:"")).replace(k," ")))}function V(t,e){if(e&&(">"===e[0]&&(e=e.substring(1)),t))try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return}}function U(t,e){return t.top!==e.top||t.left!==e.left}function v(t,e,n){var o=t&&t.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];o[e=e in o||-1!==e.indexOf("webkit")?e:"-webkit-"+e]=n+("string"==typeof n?"":"px")}}function Z(t,e){return t.sortable.el!==e.sortable.el}function y(t,e){v(t,"display",e?"":"none")}var b="Sortable"+Date.now(),o={sortable:null,nodes:[]},w=c({},o),S=c({},o),x={};function G(t){this.options=t||{},this.groupName=t.group.name||"group_"+Number(Math.random().toString().slice(-3)+Date.now()).toString(32)}function J(){this.autoScrollAnimationFrame=null,this.speed={x:10,y:10}}function K(t){this.options=t,this.animations=[]}function Q(){this.helper=null,this.distance={x:0,y:0},this.maximumDeltas={left:0,right:0,top:0,bottom:0}}G.prototype={allowDrag:function(t){return this.options.multiple&&x[this.groupName]&&x[this.groupName].length&&-1<x[this.groupName].indexOf(t)},getHelper:function(){var n=document.createElement("div");return x[this.groupName].forEach(function(t,e){t=t.cloneNode(!0);t.style="\n        opacity: ".concat(0===e?1:.5,";\n        position: absolute;\n        z-index: ").concat(e,";\n        left: 0;\n        top: 0;\n        bottom: 0;\n        right: 0;\n      "),n.appendChild(t)}),n},select:function(t,e,n,o){var i;e&&(x[this.groupName]||(x[this.groupName]=[]),i=x[this.groupName].indexOf(e),q(e,this.options.selectedClass,i<0),t=c(c({},o),{},{event:t}),i<0?(x[this.groupName].push(e),o.sortable._dispatchEvent("onSelect",t)):(x[this.groupName].splice(i,1),o.sortable._dispatchEvent("onDeselect",t)),x[this.groupName].sort(function(t,e){return t=f(t,n),e=f(e,n),t.top==e.top?t.left-e.left:t.top-e.top}))},onDrag:function(e,t){w.sortable=t,w.nodes=x[this.groupName].map(function(t){return{node:t,rect:g(t),offset:f(t,e)}}),S.sortable=t},onTrulyStarted:function(e,t){t.animator.collect(e,null,e.parentNode),x[this.groupName].forEach(function(t){t!=e&&y(t,!1)}),t.animator.animate()},onChange:function(t,e){var n=g(t),o=f(t,e.el);S.sortable=e,S.nodes=x[this.groupName].map(function(t){return{node:t,rect:n,offset:o}})},onDrop:function(t,n,e,o,i){var r=this,a=(S.sortable.animator.collect(n,null,n.parentNode),x[this.groupName].indexOf(n)),o=(x[this.groupName].forEach(function(t,e){y(t,!0),e<a?n.parentNode.insertBefore(t,n):(e=0<e?x[r.groupName][e-1]:n,n.parentNode.insertBefore(t,e.nextSibling))}),w.sortable=o.sortable,S.nodes=x[this.groupName].map(function(t){return{node:t,rect:g(t),offset:f(t,e)}}),Z(w,S)),s=o||this._offsetChanged(w.nodes,S.nodes),i=c(c({},i()),{},{changed:s,event:t});o&&w.sortable._dispatchEvent("onDrop",i),S.sortable._dispatchEvent("onDrop",i),S.sortable.animator.animate()},_offsetChanged:function(t,n){return!!t.find(function(e){return U(n.find(function(t){return t.node===e.node}).offset,e.offset)})}},window.requestAnimationFrame||(window.requestAnimationFrame=function(t){return setTimeout(t,17)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),J.prototype={clear:function(){null!=this.autoScrollAnimationFrame&&(cancelAnimationFrame(this.autoScrollAnimationFrame),this.autoScrollAnimationFrame=null)},update:function(t,e,n,o){var i=this;cancelAnimationFrame(this.autoScrollAnimationFrame),this.autoScrollAnimationFrame=requestAnimationFrame(function(){n&&o&&i.autoScroll(t,e,o),i.update(t,e,n,o)})},autoScroll:function(t,e,n){var o,i,r,a,s,l,c,u,h,p,d,f;t&&(o=n.clientX,n=n.clientY,void 0!==o)&&void 0!==n&&(h=g(t))&&(d=t.scrollTop,i=t.scrollLeft,r=t.scrollHeight,p=t.scrollWidth,a=h.top,s=h.right,l=h.bottom,c=h.left,f=h.height,h=h.width,n<a||s<o||l<n||o<c||(u=0<d&&a<=n&&n<=a+e,h=i+h<p&&o<=s&&s-e<=o,p=d+f<r&&n<=l&&l-e<=n,(f=d=0)<i&&c<=o&&o<=c+e&&(d=Math.floor(Math.max(-1,(o-c)/e-1)*this.speed.x)),h&&(d=Math.ceil(Math.min(1,(o-s)/e+1)*this.speed.x)),u&&(f=Math.floor(Math.max(-1,(n-a)/e-1)*this.speed.y)),(f=p?Math.ceil(Math.min(1,(n-l)/e+1)*this.speed.y):f)&&(t.scrollTop+=f),d&&(t.scrollLeft+=d)))}},K.prototype={collect:function(t,e,n,o){var i=this;n&&(n=Array.prototype.slice.call(n.children),e=(t=this._getRange(n,t,e,o)).start,t=t.end,this.animations.length=0,n.slice(e,t+1).forEach(function(t){"none"!==v(t,"display")&&t!==o&&t!==j.helper&&i.animations.push({node:t,rect:g(t)})}))},animate:function(){var n=this;this.animations.forEach(function(t){var e=t.node,t=t.rect;n._excute(e,t)})},_excute:function(t,e){var n=e.left,e=e.top,o=g(t),e=e-o.top,n=n-o.left,o=(i(t),h(t,"translate3d(".concat(n,"px, ").concat(e,"px, 0)")),t.offsetWidth,this.options.animation);i(t,o),h(t,"translate3d(0px, 0px, 0px)"),clearTimeout(t.animated),t.animated=setTimeout(function(){i(t),h(t,""),t.animated=null},o)},_getRange:function(t,e,n){var o,e=t.indexOf(e),n=t.indexOf(n);return n<e&&(e=(o=[n,e])[0],n=o[1]),e<0&&(e=n,n=t.length-1),{start:e,end:n=n<0?t.length-1:n}}},Q.prototype={get node(){return this.helper},destroy:function(){this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.helper=null,this.distance={x:0,y:0},this.maximumDeltas={left:0,right:0,top:0,bottom:0}},getRestrictedByContainerDeltas:function(t,e){function n(t,e){return Math.min(Math.abs(t),e)}var o=t,i=e;return t<0&&(o=-1*n(t,this.maximumDeltas.left)),0<=t&&(o=n(t,this.maximumDeltas.right)),e<0&&(i=-1*n(e,this.maximumDeltas.top)),{x:o,y:i=0<=e?n(e,this.maximumDeltas.bottom):i}},move:function(t,e){this.helper&&(t=this.getRestrictedByContainerDeltas(t,e),h(this.helper,"translate3d(".concat(t.x,"px, ").concat(t.y,"px, 0)")))},getCoordsAtCorners:function(t){var t=t.getBoundingClientRect(),e=t.top,n=t.left,o=t.width,t=t.height;return{leftTop:{x:Math.round(n),y:Math.round(e)},rightBottom:{x:Math.round(n+o),y:Math.round(e+t)}}},getMaximumDeltas:function(t,e){t=this.getCoordsAtCorners(t),e=this.getCoordsAtCorners(e);return{left:Math.abs(e.leftTop.x-t.leftTop.x),right:Math.abs(e.rightBottom.x-t.rightBottom.x),top:Math.abs(e.leftTop.y-t.leftTop.y),bottom:Math.abs(e.rightBottom.y-t.rightBottom.y)}},init:function(t,e,n,o){if(!this.helper){var i,r=o.fallbackOnBody,a=o.ghostClass,s=o.ghostStyle,o=o.constraintContainerSelector,r=r?document.body:n,n=o?document.querySelector(o):document.body,l=(this.maximumDeltas=this.getMaximumDeltas(e,n),this.helper=e.cloneNode(!0),q(this.helper,a,!0),c({top:t.top,left:t.left,width:t.width,height:t.height,position:"fixed",opacity:"0.8","z-index":1e5,"pointer-events":"none","box-sizing":"border-box"},s));for(i in l)v(this.helper,i,l[i]);o=this.helper,n="none",o.style["".concat(u,"Transition")]=n?"none"===n?"none":"".concat(n):"",h(this.helper,"translate3d(0px, 0px, 0px)"),r.appendChild(this.helper);e=this.distance.x/parseInt(this.helper.style.width)*100,a=this.distance.y/parseInt(this.helper.style.height)*100;v(this.helper,"transform-origin","".concat(e,"% ").concat(a,"%")),v(this.helper,"transform","translateZ(0)"),v(this.helper,"will-change","transform")}}};function r(){var t,e={from:c({},A),to:c({},P)};return T&&(t={from:c({},w),to:c({},S)},e.from=c(c({},t.from),e.from),e.to=c(c({},t.to),e.to)),e}var s,_,D,N,E,C,T,$,tt,et={sortable:null,group:null,node:null,rect:{},offset:{}},M=[],O=new Q,nt=new J,A=c({},et),P=c({},et),B={x:0,y:0},X={x:null,y:null},ot=function(t){var e={},n=t.group;n&&"object"==Y(n)||(n={name:n,pull:!0,put:!0}),e.name=n.name,e.pull=n.pull,e.put=n.put,t.group=e};function j(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));(t[b]=this).el=t,this.ownerDocument=t.ownerDocument,this.options=e=Object.assign({},e);var n,o,i={disabled:!1,group:"",animation:150,multiple:!1,draggable:null,handle:null,onDrag:null,onMove:null,onDrop:null,onChange:null,autoScroll:!0,scrollThreshold:55,delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,ghostClass:"",ghostStyle:{},chosenClass:"",selectedClass:"",swapOnDrop:!0,fallbackOnBody:!1,stopPropagation:!1,supportTouch:"ontouchstart"in window,emptyInsertThreshold:5,lockAxis:null,constraintContainerSelector:null};for(n in i)n in this.options||(this.options[n]=i[n]);for(o in ot(e),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));p(t,this.options.supportTouch?"touchstart":"mousedown",this._onDrag),M.push(t),this.multiplayer=new G(this.options),this.animator=new K(this.options)}return(j.prototype={constructor:j,destroy:function(){this._dispatchEvent("destroy",this),this.el[b]=null;for(var t=0;t<l.start.length;t++)n(this.el,l.start[t],this._onDrag);this._clearState(),M.splice(M.indexOf(this.el),1),this.el=null},option:function(t,e){var n=this.options;if(void 0===e)return n[t];n[t]=e,"group"===t&&ot(n)},_onDrag:function(t){if(!this.options.disabled&&this.options.group.pull&&(!/mousedown|pointerdown/.test(t.type)||0===t.button)){var e=I(t),n=e.touch,o=e.event,e=e.target;if(!(e===this.el||a&&e&&"SELECT"===e.tagName.toUpperCase())){var i=this.options,r=i.draggable,i=i.handle;if(("function"!=typeof i||i(t))&&("string"!=typeof i||V(e,i))){if("function"==typeof r){i=r(t);if(!i)return;!function(e){if(e){var t=document.createElement("div");try{return t.appendChild(e.cloneNode(!0)),1==e.nodeType}catch(t){return e==window||e==document}}}(i)||(_=i)}else _=W(e,r,this.el,!1);_&&!_.animated&&(X.x=o.clientX,X.y=o.clientY,N=_.cloneNode(!0),this._prepareStart(n,o))}}}},_prepareStart:function(t,e){var n=this,o=_.parentNode,i=((E=e).sortable=this,E.group=_.parentNode,(T=this.options.multiple&&this.multiplayer.allowDrag(_))&&this.multiplayer.onDrag(this.el,this),g(_)),r=f(_,this.el),r=(A={sortable:this,group:o,node:_,rect:i,offset:r},P.group=o,P.sortable=this,O.distance={x:e.clientX-i.left,y:e.clientY-i.top},p(document,"touchend",this._onDrop),p(document,"touchcancel",this._onDrop),p(document,"mouseup",this._onDrop),this.options),o=r.delay,e=r.delayOnTouchOnly;if(!o||e&&!t||H||d)this._onStart(t);else{for(var a=0;a<l.end.length;a++)p(this.ownerDocument,l.end[a],this._cancelStart);for(var s=0;s<l.move.length;s++)p(this.ownerDocument,l.move[s],this._delayMoveHandler);tt=setTimeout(function(){return n._onStart(t)},o)}},_delayMoveHandler:function(t){t=t.touches?t.touches[0]:t;Math.max(Math.abs(t.clientX-E.clientX),Math.abs(t.clientY-E.clientY))>=Math.floor(this.options.touchStartThreshold/(window.devicePixelRatio||1))&&this._cancelStart()},_cancelStart:function(){clearTimeout(tt);for(var t=0;t<l.end.length;t++)n(this.ownerDocument,l.end[t],this._cancelStart);for(var e=0;e<l.move.length;e++)n(this.ownerDocument,l.move[e],this._delayMoveHandler)},_onStart:function(t){s=this.el,p(document,t?"touchmove":"mousemove",this._nearestSortable);try{document.selection?setTimeout(function(){document.selection.empty()},0):window.getSelection().removeAllRanges()}catch(t){}},_onTrulyStarted:function(){var t;C||(this._dispatchEvent("onDrag",c(c({},r()),{},{event:E})),T&&this.multiplayer.onTrulyStarted(_,this),t=T?this.multiplayer.getHelper():_,O.init(A.rect,t,this.el,this.options),j.helper=O.node,y(_,!1),_.parentNode.insertBefore(N,_),q(N,this.options.chosenClass,!0),a&&v(document.body,"user-select","none"))},_nearestSortable:function(t){var e,n,o,i,r,a,s,l,c;this._preventEvent(t),!E||!_||(o=(r=t).clientX,r=r.clientY,a=o-B.x,i=r-B.y,B.x=o,B.y=r,void 0!==o&&void 0!==r&&Math.abs(a)<=0&&Math.abs(i)<=0)||(o="x"===this.options.lockAxis,e=(t=I(t,a=(r="y"===this.options.lockAxis)?X.x:null,i=o?X.y:null)).event,t=t.target,n=o?i:e.clientY,o=o?i:E.clientY,i=r?a:e.clientX,r=r?a:E.clientX,s=i,l=n,M.some(function(t){var e,n,o=t[b].options.emptyInsertThreshold;if(o)return n=g(t,{parent:!0}),e=s>=n.left-o&&s<=n.right+o,n=l>=n.top-o&&l<=n.bottom+o,e&&n?c=t:void 0}),a=c,this._onTrulyStarted(),C=e,O.move(i-r,n-o),this._autoScroll(t),a&&a[b]._onMove(e,t))},_allowPut:function(){var t,e;return E.sortable.el===this.el||!!this.options.group.put&&(t=this.options.group.name,(e=E.sortable.options.group).name)&&t&&e.name===t},_onMove:function(t,e){if(this._allowPut()){if(this._dispatchEvent("onMove",c(c({},r()),{},{event:t})),s=this.el,D=W(e,this.options.draggable,s,!1)){if(D===$)return;if(($=D)===N)return;if(D.animated||z(D,N))return}s!==A.sortable.el?e!==s&&function(t,e,n){for(var o=t.lastElementChild;o&&(o===e||"none"===v(o,"display")||n&&!V(o,n));)o=o.previousElementSibling;return o}(s,O.node)?D&&this._onInsert(t,!1):this._onInsert(t,!0):D&&this._onChange(t)}},_autoScroll:function(t){var t=function(t,e){if(t&&t.getBoundingClientRect){var n=t,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=v(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return m();if(o||e)return n;o=!0}}}while(n=n.parentNode)}return m()}(t,!0),e=this.options,n=e.autoScroll,e=e.scrollThreshold;n&&nt.update(t,e,E,C)},_onInsert:function(t,e){var n=e?N:D,o=e?s:D.parentNode;A.sortable.animator.collect(N,null,N.parentNode,N),this.animator.collect(null,n,o,N),T&&this.multiplayer.onChange(N,this),P={sortable:this,group:o,node:n,rect:g(n),offset:f(n,s)},A.sortable._dispatchEvent("onRemove",c(c({},r()),{},{event:t})),e?o.appendChild(N):o.insertBefore(N,D),this._dispatchEvent("onAdd",c(c({},r()),{},{event:t})),A.sortable.animator.animate(),this.animator.animate(),A.group=o,A.sortable=this},_onChange:function(t){var e=D.parentNode,t=(this.animator.collect(N,D,e),T&&this.multiplayer.onChange(N,this),P={sortable:this,group:e,node:D,rect:g(D),offset:f(D,s)},this._dispatchEvent("onChange",c(c({},r()),{},{event:t})),f(N,s)),n=null,n=t.top===P.offset.top?t.left<P.offset.left?D.nextSibling:D:t.top<P.offset.top?D.nextSibling:D;e.insertBefore(N,n),this.animator.animate(),A.group=e,A.sortable=this},_onDrop:function(t){this._unbindMoveEvents(),this._unbindDropEvents(),this._preventEvent(t),this._cancelStart(),nt.clear(),_&&E&&C?this._onEnd(t):this.options.multiple&&this.multiplayer.select(t,_,s,c({},A)),this._clearState()},_onEnd:function(t){var e,n;this.options.swapOnDrop&&N.parentNode.insertBefore(_,N),A.group=E.group,A.sortable=E.sortable,P.rect=g(N),P.offset=f(N,s),T?this.multiplayer.onDrop(t,_,s,E,r):(P.node===N&&(P.node=_),n=(e=Z(A,P))||U(A.offset,P.offset),n=c(c({},r()),{},{changed:n,event:t}),e&&A.sortable._dispatchEvent("onDrop",n),P.sortable._dispatchEvent("onDrop",n)),y(_,!0),N.parentNode.removeChild(N),a&&v(document.body,"user-select","")},_preventEvent:function(t){void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),this.options.stopPropagation&&(t&&t.stopPropagation?t.stopPropagation():window.event.cancelBubble=!0)},_dispatchEvent:function(t,e){t=this.options[t];"function"==typeof t&&t(e)},_clearState:function(){_=D=N=E=C=T=$=tt=j.helper=null,B={x:0,y:0},A=P=c({},et),O.destroy()},_unbindMoveEvents:function(){for(var t=0;t<l.move.length;t++)n(document,l.move[t],this._nearestSortable)},_unbindDropEvents:function(){for(var t=0;t<l.end.length;t++)n(document,l.end[t],this._onDrop)}}).utils={on:p,off:n,css:v,closest:W,getRect:g,getOffset:f},j.get=function(t){return t[b]},j.create=function(t,e){return new j(t,e)},j});
